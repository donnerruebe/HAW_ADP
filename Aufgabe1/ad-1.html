<!DOCTYPE html>
<html>
<head>
<title></title>
<meta charset='UTF-8' />
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css">


<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>

<!-- morris graph lib -->
<link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/morris.js/0.5.1/morris.css">
<script src="http://cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/morris.js/0.5.1/morris.min.js"></script>
<!-- LaTeX-style equations -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
</script>
<script type="text/javascript"
  src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- tests -->
<script>
  function assert(value, desc) {
    var li = document.createElement("li");
    li.style.color = value ? "green" : "red";
    li.appendChild(document.createTextNode(desc));
    var list = document.getElementById("results");
    if (!list) {
      list = document.createElement("div");
      document.body.appendChild(list);
    }
    list.appendChild(li);
  }
  
  var assertEqual = function(call,value,info){
    msg = '<div class="alert alert-danger" role="alert"><strong>FAILED:</strong> ' + info + '<br>the Result is not what you expected<br> [ '+ call +' != '+ value +' ]</div>';
    if(call == value){
        msg = '<div class="alert alert-warning" role="alert"><span class="glyphicon glyphicon-warning-sign"></span> ' + info + '<br>the Result may be not exacly what you expected<br> [ '+ call +' == '+ value +' ]</div>';
    }
    if(call === value){
        msg = '<div class="alert alert-success" role="alert"><strong>OK!</strong> ' + info + '</div>';
    }
    return msg;
  }
  
  jQuery.fn.extend({
      executeTests: function(test) {
        return this.each(function() {
          console.log($(this).attr("id"));
          var obj=$(this).attr("id");
          //console.log(test[obj]);
          if(typeof(test[obj])=== 'string')
          {
            $(this).append(test[obj]);
          }
        });
      } 
  });
  
  tests = {
    'ad-1-1-results':"",
    'ad-1-2-results':"",
    'ad-1-3-results':"",
  
  };
  
  assertTest = function(Aufgabe,call,value,info)
  {
    tests[Aufgabe]+=assertEqual(call,value,info);
  }
  

</script>
</head>
<body>
<div class="container">
<h1 id="title">L&ouml;sungsblatt Vorlage</h1>
<div class="row">
<div class="panel panel-default">
  <div class="panel-heading">Teaminformationen</div>
  <div class="panel-body" id="headpanel">
  <div class="progress">
      <div class="progress-bar  progress-bar-striped active" id="sumprogress" style="width: 0%">
        <span></span>
      </div>
  </div>
  </div>
</div>
</div>
<script>
//INIT
var info = {
    aufgabe: "Aufgabenblatt 1",
    abgabe: "KW17?",
    autor: ["Torben Haug","Jan Rübbelke"],  
    progress: 110
};

$(document).ready(function(){
    $("#title").text(info.aufgabe);
    for(var index in info.autor)
    {
        var member=info.autor[index];
        $("#headpanel").append("<li> " + member + " </li>");
    }
    var pbar=$("#sumprogress");
    
    if(info.progress<30)
    {
        pbar.addClass("progress-bar-danger");
    }
    else if(info.progress<75)
    {
        pbar.addClass("progress-bar-warning");
    }
    else if(info.progress<100){
        pbar.addClass("progress-bar-success");
    }
    else
    {
        info.progress=100;
        pbar.removeClass("active");
        pbar.removeClass("progress-bar-striped");
        pbar.addClass("progress-bar-primary");
    }    
    pbar.width(info.progress + "%");
    $("span",pbar).text( info.progress + " %" );
})
</script>
Vorlage zur L&ouml;sung des ersten Aufgabenblatts.

<div class="row">
<h2>
Aufgabe 1
</h2>
<p>
Gegeben seien ein Startpunkt $x \in \mathbb{N}$ und ein Zielpunkt $y \in \mathbb{N}$ auf einer Geraden,
sowie ein Schrittma&szlig; $d \in \mathbb{N}$. Gesucht ist die Anzahl der Schritte
$steps(x, y, d) \in \mathbb{N}$, die ben&ouml;tigt werden, um einen Punkt zu erreichen, dessen Wert
gr&ouml;&szlig;er als $y$ ist.
</p>
<p>
Beispiel: Bei der Eingabe $x = 15$, $y = 80$, $d = 30$ sind drei Schritte n&ouml;tig.
</p>
<ol>
<li>
In Abh&auml;gigkeit von welchem Wert bestimmen Sie Laufzeit und Speicherplatzbedarf?
</li>
<li>
Welchen Zeit- und welchen Platzaufwand hat eine naive Implementierung?
</li>
<li>
Implementieren Sie die Methode $steps(x,y,d)$, welche die gesuchte Anzahl der Schritte in Zeitaufwand $O(1)$ und  Platzaufwand $O(1)$ berechnet.
</li>
</ol>
<h2>
Antwort 1
</h2>
<ol>
<li>
TODO
</li>
<li>
TODO
</li>
<li>
TODO
</li>
</ol>
<h3>
Implementierung
</h3>
<!-- In diesem Element wird der Inhalt des scripts mit der ID ad-1-1-results angezeigt -->
<pre id="ad-1-1-source"></pre>
<h3>
Testergebnisse <a class="btn btn-primary" data-toggle="collapse" href="#collapseTEST1">
  show
</a>
</h3>
<div class="collapse" id="collapseTEST1">
  <div class="well testresults" id="ad-1-1-results">
    ...
  </div>
</div>
<!-- Code und Tests hier hin -->
<script id="ad-1-1-code">

  var steps = function(x,y,d)
  {
    var res = Math.floor( (y - x) / d )+1;
    return res>=0?res:0;
  }
  
  var stepsnaiv = function(x,y,d){
    if(x > y)
    {
        return 0;
    }
    else{
        return 1 + stepsnaiv(x+d,y,d);
    }
  }

  var ad_1_1_data = [];

  // Code
  MyClass = function() {
    this.value = Math.ceil(Math.random()*100);
  }

  // Experiments
  for(var i = 0; i < 100; i ++) {
    ad_1_1_data.push({
      experiment : i,
      valuea : steps(0,i,5),
      valueb : steps(22,i,5),
      valuec : steps(0,i,10),
      valued : stepsnaiv(1,i,5),
      });
  }

  // Tests
  assertTest("ad-1-1-results",steps(15,80,30),3,"steps(15,80,30)=3");
  assertTest("ad-1-1-results",steps(15,60,30),2,"steps(15,60,30)=2");
  assertTest("ad-1-1-results",steps(15,75,30),3,"steps(15,75,30)=3");
  assertTest("ad-1-1-results",stepsnaiv(15,75,30),3,"stepsnaiv(15,75,30)=3");
  
  /*
  assertTest("ad-1-1-results",steps(15,80,30),3,"Funktion Steps rechnet richtig");
  assertTest("ad-1-1-results",1,true,"Beispiel für Warning!");
  assertTest("ad-1-1-results",1,false,"Beispiel für FAILED!");
  */
 
</script>
<!-- dieser Code zeigt die Implementierung und die Tests an -->
</li>
</ul>
<script>
$('pre#ad-1-1-source').html($('#ad-1-1-code').html())
</script>

<h3>
Experimente
</h3>

<div id="ad-1-1-experiments" style="height: 250px;"></div>
<script>
new Morris.Line({
  // ID of the element in which to draw the chart.
  element: 'ad-1-1-experiments',
  // do values relate to dates (time)?
  parseTime: false,
  // Chart data records -- each entry in this array corresponds to a point on
  // the chart.
  data: ad_1_1_data,
  // The name of the data record attribute that contains x-values.
  xkey: 'experiment',
  // A list of names of data record attributes that contain y-values.
  ykeys: ['valuea','valueb','valuec','valued'],
  // Labels for the ykeys -- will be displayed when you hover over the
  // chart.
  labels: ['steps(0,i,5)','steps(12,i,5)','steps(0,i,10)','stepsnaiv(1,i,5)']
});
</script>

<!-- Aufgabe 2 -->
<h2>
Aufgabe 2
</h2>
        {
Fibonacci NAIV:
<ul id="fibnaiv" class="list-group">

</ul>
<h2>
Antwort 2
</h2>
<ol>
<li>
TODO
</li>
</ol>
<h3>
Implementierung
</h3>
<!-- In diesem Element wird der Inhalt des scripts mit der ID ad-1-2-code angezeigt -->
<pre id="ad-1-2-source"></pre>
<h3>
Testergebnisse <a class="btn btn-primary" data-toggle="collapse" href="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
  show
</a>
</h3>
<div class="collapse" id="collapseExample">
  <div class="well testresults" id="ad-1-2-results">
    ...
  </div>
</div>
<!-- Code und Tests hier hin -->
<script id="ad-1-2-code">
  
    var fib1=function(n){
        if(n<=1){
        return 1;
        }
        else{
        return fib1(n-1)+fib1(n-2);
        }
    }
    
    var mem={};
    
    var fib2=function(n){
        if (mem[n])
        {
            console.log("fib2("+n+") MEMO =>"+mem[n]);
            return mem[n];
        }
        else
        {
            console.log("fib2("+n+") CALC => fib2("+(n-2)+")+fib2("+(n-1)+")");
            var res=0;
            if(n<=1){
                res= 1;
            }
            else{
                res= fib2(n-2)+fib2(n-1);
            }
            mem[n]=res;
            console.log("fib2("+n+") CALC => "+res);
            return res;
        }
    } 
	
    var fib3 = function(n){
		return fib3_(n, 0, 1);
	}
	var fib3_ = function(n, suma, sumb){
		if(n<1){
			return sumb;
		}
		return fib3_(n-1,sumb,suma+sumb);
	}
	
    var fib4=function(n){
        var suma=0,sumb=1;
        for(var i=0; i<=n;i++)
        {
            var summe=suma+sumb;
            sumb= suma;
            suma=summe;
        }
        return suma;
    }    
</script>

<script>

   $().ready(function(){
        for(var i=0; i<10;i++)
        {
            //console.log(i + ' ' + fib(i));
            $("#fibnaiv").append('<li class="list-group-item">fib4( '+i+" ) = "+fib4(i)+"</li>");
        }   
    });
  
  var ad_1_2_data = [{
        experiment : 0,
        value : 0
  }];

  // Code
  var expbar;
  
  var ExpProgress=1;
  
  $().ready(function(){
      expbar=$("#exprog");
      expbar.setbar = function(val){
        this.width((val*100)+"%");
      }
      var updater = setInterval(function(){
      expbar.setbar(ExpProgress);
      console.log("UPDATE");
      },500);
  });
  
  // Experiments 
  
  var bathfib = function(fibNmax,iter){
  ad_1_2_data = [];
  for(i = 0; i <= fibNmax; i ++) {
    var start = new Date();
    var result = 0;
    for(var x=0;x<iter;x++){
        result=fib4(i);
        console.log(result+x);
    }
    var stop = new Date();
    var startnum=(start.getTime())+start.getMilliseconds()/1000;
    var stopnum=(stop.getTime())+stop.getMilliseconds()/1000;
    
    var start = new Date();
    for(var x=0;x<iter;x++){
        result=fib1(i);
        console.log(result+x);
    }
    var stop = new Date();
    var startnum1=(start.getTime())+start.getMilliseconds()/1000;
    var stopnum1=(stop.getTime())+stop.getMilliseconds()/1000;    
    
    var start = new Date();
    for(var x=0;x<iter;x++){
        result=fib2(i);
        console.log(result+x);
    }
    var stop = new Date();
    var startnum2=(start.getTime())+start.getMilliseconds()/1000;
    var stopnum2=(stop.getTime())+stop.getMilliseconds()/1000;    
	
	var start = new Date();
    for(var x=0;x<iter;x++){
        result=fib3(i);
        console.log(result+x);
    }
    var stop = new Date();
    var startnum3=(start.getTime())+start.getMilliseconds()/1000;
    var stopnum3=(stop.getTime())+stop.getMilliseconds()/1000;    
    
   
    
    //console.log(stopnum - startnum);
    ad_1_2_data.push({
      experiment : i,
      memory : stopnum2 - startnum2,
      linear : stopnum - startnum,
      linearRecursiv : stopnum3 - startnum3,
      naiv : stopnum1 - startnum1
      });
      console.log(i);
  }
  exp.setData(ad_1_2_data);
  
  };
  
  var fibAlgorithmus = [fib1,fib2,fib3,fib4];
  
  var fibErwartung   = {0:1,1:1,2:2,9:55}
  
  for(var index in fibAlgorithmus)
  {
    for(var erg in fibErwartung)
    assertTest("ad-1-2-results",fibAlgorithmus[index](erg),fibErwartung[erg],"Algorithmus ["+index+"] für "+erg);
  }

$('pre#ad-1-2-source').html($('#ad-1-2-code').html())
</script>

<h3>
Experimente
</h3>
<button class="btn btn-danger" onclick="bathfib(1000,1)">fibX(n) (n=[0,1000]) je 1 mal</button>
<button class="btn btn-danger" onclick="bathfib(30,100)">fibX(n) (n=[0,30]) je 100 mal</button>
<button class="btn btn-warning" onclick="bathfib(30,10)">fibX(n) (n=[0,30]) je 10 mal</button>
<button class="btn btn-success" onclick="bathfib(20,10)">fibX(n) (n=[0,20]) je 10 mal</button>
<button class="btn btn-success" onclick="bathfib(10,10)">fibX(n) (n=[0,10]) je 10 mal</button>
<div class="progress">
      <div class="progress-bar  progress-bar-striped active" id="exprog" style="width: 0%">
        <span></span>
      </div></div>
<div id="ad-1-2-experiments" style="height: 250px;"></div>
<script>
exp = new Morris.Line({
  // ID of the element in which to draw the chart.
  element: 'ad-1-2-experiments',
  // do values relate to dates (time)?
  parseTime: false,
  // Chart data records -- each entry in this array corresponds to a point on
  // the chart.
  data: ad_1_2_data,
  // The name of the data record attribute that contains x-values.
  xkey: 'experiment',
  // A list of names of data record attributes that contain y-values.
  ykeys: ['naiv','linear','linearRecursiv','memory'],
  // Labels for the ykeys -- will be displayed when you hover over the
  // chart.
  labels: ['naiv','linear','linearRecursiv','memory']
});
</script>


<div class="row">
<h2>Aufgabe 3</h2>
<script id="code_3">
//procedural
var chainList =  {
	count: 0,
	
	emptyList: function(x){
		return {data: x, next: undefined};
	},

	getCounter: function(){
		return this.count;
	},

	resetCounter: function(){
		this.count = 0;
	},

	append: function(x,list){
		var item=list;
		this.count++;
		while(item.next)
		{
			this.count++;
			item=item.next;
			this.count++;
		}
		this.count++;
		item.next = this.emptyList(x);
		return list;
	},

	cons: function(x,list){
		this.count++;
		var element = this.emptyList(x);
		element.next = list;
		return element;
	},

	head: function(list){
		this.count++;
		return list.data;
	},

	tail: function(list){
		this.count++;
		var nextElem = list.next;
		if( nextElem === undefined){
			return this.emptyList();
		}
		return nextElem;
	},

	leng: function(list)
	{
		this.count++;
		var nextElem = list.next;
		if(nextElem)
		{return 1 + this.leng(nextElem);}
		else
		{return 1;}
	},

	isEmpty: function(list){
		this.count++;
		return list.next===undefined && list.data===undefined;
	},

	insert: function(x,n,list){
		if(n<=0){
			return this.cons(x,list);
		}else{
			this.count++;
			return this.cons(list.data,this.insert(x,(n-1),this.tail(list)));
		}
	/*
		if(n>0){
			count++;
			insert(x,n-1,list.next);
		}else{
			count++;
			var oldNext = list.next;
			count++;
			list.next={data: x, next: oldNext};
		}
		return list;
	*/
	}
}


// ArraybasierteListe
var arrayList =  {
	count: 0,
	
	emptyList: function(){
		return [];
	},

	getCounter: function(){
		return this.count;
	},

	resetCounter: function(){
		this.count = 0;
	},

	append: function(x,list){
		var newArray = [];
		for(var index in list){
			this.count += 2;
			newArray.push(list[index]);
		}
		this.count++;
		newArray.push(x);
		return newArray;
	},

	cons: function(x,list){
		var newArray = [];
		this.count++;
		newArray.push(x);
		for(var index in list){
			this.count += 2;
			newArray.push(list[index]);
		}
		return newArray;
	},

	head: function(list){
		this.count++;
		return list[0];
	},

	tail: function(list){
		if(this.isEmpty(list)||this.leng(list) == 1){
			return this.emptyList();
		}else{
			var newArray = this.emptyList();
			for(var i=1; i<this.leng(list);i++){
				this.count += 2;
				newArray.push(list[i]);
			}
			return newArray;
		}
	},

	leng: function(list)
	{
		return list.length;
	},

	isEmpty: function(list){
		return this.leng(list)===0;
	},

	insert: function(x,n,list){
		var newArray = this.emptyList();
		var index = 0;
		for(index in list){
			if(index==n){
				newArray.push(x);
			}
			this.count+=2;
			newArray.push(list[index]);
		}
		if(index < n){
			newArray.push(x);
		}
		return newArray;
	}
}
</script>
<script>
//OOP
function chainedList(data){

    this.data=data;
    this.next=undefined;
    
    this.cons = function(elem){
        if(this.next!==undefined)
        {this.next.cons(elem);}
        else
        {this.next=new chainedList(elem);}
        return this;
    };
    
    this.get = function(idx){
        if(idx>0){
            if(this.next!==undefined){
                return this.next.get(idx-1);
            }
            return undefined;
        }
        else
        {
            return this.data;
        }
    }
    
    this.set = function(idx,val)
    {
        if(idx>0){
            if(this.next!==undefined){
                this.next.set(idx-1,val);
            }
            return undefined;
        }
        else
        {
            this.data=val;
            return val;
        }    
    }
    
    this.head = function(){
        return this.data;
    };
    
    this.tail = function(){
        return this.next;
    };
    
    this.leng = function(){
    if(this.next)
    {
        return this.next.leng() + 1;
    }
    else
    {
        return 1;
    }
    };
    
    this.isEmpty = function(){
        return this.data === undefined && this.next === undefined;
    };
    
    this.toString = function(){
        return JSON.stringify(this.data) + (this.next!==undefined ? " , " + this.next.toString() : "");
    }
}

var l = new chainedList('a');
l.cons("Hallo");
l.cons(1234);
l.cons(l.leng());

var chainErstesExperiment = function(n){
	chainList.resetCounter();
	var list = chainList.emptyList();
	for(var i = 0; i<n; i++){
		list = chainList.cons(i+1,list);
	}
	console.log("Erstes Experiment mit n = " + n + " Benötigt " + chainList.getCounter() + " Dereferenzierungen");
    return chainList.getCounter();
}

var chainZweitesExperiment = function(n){
	chainList.resetCounter();
	var list = chainList.emptyList();
	for(var i = 0; i<n; i++){
		chainList.append(i+1,list);
	}
	console.log("Zweites Experiment mit n = " + n + " Benötigt " + chainList.getCounter() + " Dereferenzierungen");
    return chainList.getCounter();
}

var chainDrittesExperiment = function(n){
	chainList.resetCounter();
	var list = chainList.emptyList();
	for(var i = 0; i<n; i++){
		var pos =Math.floor(Math.random() * i);
		//console.log(i + ". Pos: " + pos); 
		list = chainList.insert(i,pos,list);
	}
	console.log("Drittes Experiment mit n = " + n + " Benötigt " + chainList.getCounter() + " Dereferenzierungen");
    return chainList.getCounter();
}

var arrayErstesExperiment = function(n){
	arrayList.resetCounter();
	var list = arrayList.emptyList();
	for(var i = 0; i<n; i++){
		list = arrayList.cons(i+1,list);
	}
	console.log("Erstes Experiment mit n = " + n + " Benötigt " + arrayList.getCounter() + " Dereferenzierungen");
    return arrayList.getCounter();
}

var arrayZweitesExperiment = function(n){
	arrayList.resetCounter();
	var list = arrayList.emptyList();
	for(var i = 0; i<n; i++){
		list = arrayList.append(i+1,list);
	}
	console.log("Zweites Experiment mit n = " + n + " Benötigt " + arrayList.getCounter() + " Dereferenzierungen");
    return arrayList.getCounter();
}

var arrayDrittesExperiment = function(n){
	arrayList.resetCounter();
	var list = arrayList.emptyList();
	for(var i = 0; i<n; i++){
		var pos =Math.floor(Math.random() * i);
		//console.log(i + ". Pos: " + pos); 
		list = arrayList.insert(i,pos,list);
	}
	console.log("Drittes Experiment mit n = " + n + " Benötigt " + arrayList.getCounter() + " Dereferenzierungen");
    return arrayList.getCounter();
}

ad_1_3_data=[];

var executeExperimente = function(n)
{
var res={};

res.C1 = chainErstesExperiment(n);
res.C2 = chainZweitesExperiment(n);
res.C3 = chainDrittesExperiment(n);

res.A1 = arrayErstesExperiment(n);
res.A2 = arrayZweitesExperiment(n);
res.A3 = arrayDrittesExperiment(n);
res.experiment=(n);
console.log(res);
ad_1_3_data.push(res);

exp3.setData(ad_1_3_data);
}

</script>
<pre id="source_3"></pre>
<div id="ad-1-3-experiments"></div>
</div>
</div>
<script>
exp3 = new Morris.Line({
  // ID of the element in which to draw the chart.
  element: 'ad-1-3-experiments',
  // do values relate to dates (time)?
  parseTime: false,
  // Chart data records -- each entry in this array corresponds to a point on
  // the chart.
  data: ad_1_3_data,
  // The name of the data record attribute that contains x-values.
  xkey: 'experiment',
  // A list of names of data record attributes that contain y-values.
  ykeys: ['C1','C2','C3','A1','A2','A3'],
  // Labels for the ykeys -- will be displayed when you hover over the
  // chart.
  labels: ['ChainList EX1','ChainList EX2','ChainList EX3','SequList EX1','SequList EX2','SequList EX3']
});
</script>
<script>
$("#source_3").text($("#code_3").text());
    $(".testresults").executeTests(tests);
</script>
</body>
</html>
